<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CI/CD Pipeline Demo</title>

<style>
:root{
  --accent:#00ffea;
  --bg1:#0f0f15;
  --bg2:#1a1a2e;
}

*{box-sizing:border-box}

body{
  font-family:'Segoe UI',Arial,sans-serif;
  margin:0;
  padding:32px 16px;
  background:linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg1));
  background-size:400% 400%;
  animation:gradientShift 40s ease infinite;
  color:#e0e0e0;
}
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

h1{
  text-align:center;
  font-size:clamp(2rem,5vw,3rem);
  color:var(--accent);
  text-shadow:0 0 16px #00ffeaaa;
  margin-bottom:20px;
}

.metadata{text-align:center;margin-bottom:28px}
.metadata span{color:#fff;font-weight:bold}

/* ===== TECH STACK ===== */
.tech-stack{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:18px;
  max-width:720px;
  margin:0 auto 48px;
}
.card{
  background:#11182a;
  padding:18px 16px;
  border-radius:14px;
  text-align:center;
  color:var(--accent);
  font-weight:600;
  transition:.25s;
}
.card small{
  display:block;
  margin-top:6px;
  font-size:.75rem;
  color:#aaa;
}

/* ===== PARALLAX DIAGRAM ===== */
.diagram-wrapper{
  max-width:1100px;
  margin:0 auto 56px;
  perspective:1400px;
}

.diagram{
  position:relative;
  border-radius:22px;
  padding:22px;
  transform-style:preserve-3d;
  animation:float 6s ease-in-out infinite;
}

.diagram::before{
  content:"";
  position:absolute;
  inset:-20px;
  border-radius:30px;
  background:radial-gradient(circle at center,
    rgba(0,255,234,.45),
    transparent 65%);
  filter:blur(40px);
  opacity:.85;
  transition:.2s;
}

/* PNG LAYER (THIS IS THE KEY FIX) */
.diagram img{
  width:100%;
  height:auto;
  display:block;
  border-radius:18px;
  transform:translate3d(0,0,60px);
  transition:box-shadow .2s;
  box-shadow:0 0 32px rgba(0,255,234,.35);
  will-change:transform;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

/* ===== CONSOLE ===== */
.console{
  background:#0c0c0c;
  border-radius:14px;
  padding:18px;
  font-family:monospace;
  max-width:820px;
  margin:0 auto 40px;
  box-shadow:0 0 22px #00ffeaaa;
  color:var(--accent);
}

/* ===== BUTTON ===== */
.portfolio-link{
  display:block;
  width:max-content;
  margin:0 auto 40px;
  padding:14px 28px;
  background:rgba(0,255,234,.18);
  color:#fff;
  border-radius:14px;
  text-decoration:none;
  font-weight:600;
}
.portfolio-link:hover{
  background:rgba(0,255,234,.28);
  box-shadow:0 0 20px #00ffeaaa;
}

footer{text-align:center;font-size:.85rem;color:#aaa}
</style>
</head>

<body>

<h1>CI/CD Pipeline Demo</h1>

<div class="metadata">
  Build: <span id="build">--</span> |
  Status: <span id="status">--</span>
</div>

<div class="tech-stack">
  <div class="card">Jenkins<small>CI Automation</small></div>
  <div class="card">Docker<small>Containers</small></div>
  <div class="card">AWS ECR<small>Registry</small></div>
  <div class="card">Git<small>Version Control</small></div>
</div>

<div class="diagram-wrapper">
  <div class="diagram" id="parallaxCard">
    <picture>
      <source srcset="images/ci-cd-diagram-v2.webp" type="image/webp">
      <img id="parallaxImg" src="images/ci-cd-diagram-v2.png">
    </picture>
  </div>
</div>

<pre class="console" id="console">[SYSTEM] Initializing pipeline…</pre>

<a class="portfolio-link" href="https://github.com/Aslam-space" target="_blank">
  View GitHub Portfolio
</a>

<footer>© 2026 Aslam-space — CI/CD Demo</footer>

<script>
/* ===== CI SIM ===== */
const builds=[
  'Build #201 → SUCCESS',
  'Build #202 → SUCCESS',
  'Build #203 → FAILED',
  'Build #204 → RUNNING'
];
let i=0;
setInterval(()=>{
  build.innerText=builds[i].split(' ')[1];
  status.innerText=builds[i].split('→')[1];
  console.innerText='[PIPELINE] '+builds[i];
  i=(i+1)%builds.length;
},3000);

/* ===== TRUE 4-SIDE PARALLAX (FIXED) ===== */
const card = document.getElementById('parallaxCard');
const img  = document.getElementById('parallaxImg');

let tx=0, ty=0, cx=0, cy=0;
const maxMove = 26;
const maxTilt = 6;

function animate(){
  cx += (tx - cx) * 0.12;
  cy += (ty - cy) * 0.12;

  img.style.transform =
    `translate3d(${cx}px, ${cy}px, 60px)`;

  card.style.transform =
    `rotateX(${(-cy/maxMove)*maxTilt}deg)
     rotateY(${(cx/maxMove)*maxTilt}deg)`;

  img.style.boxShadow =
    `0 0 ${30+Math.abs(cx)}px rgba(0,255,234,.45)`;

  requestAnimationFrame(animate);
}
animate();

function setTarget(x,y){
  tx = -x * maxMove;   // inverted
  ty = -y * maxMove;
}

function handleMove(clientX, clientY){
  const r = card.getBoundingClientRect();
  const x = (clientX - r.left) / r.width - 0.5;
  const y = (clientY - r.top)  / r.height - 0.5;
  setTarget(x,y);
}

card.addEventListener('mousemove',e=>{
  handleMove(e.clientX,e.clientY);
});

card.addEventListener('mouseleave',()=>{
  tx=ty=0;
});

card.addEventListener('touchmove',e=>{
  const t=e.touches[0];
  handleMove(t.clientX,t.clientY);
},{passive:true});

card.addEventListener('touchend',()=>{
  tx=ty=0;
});
</script>

</body>
</html>
